<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
</head>
<body>
<div>
  <th:block th:include="menu">Menu</th:block>
</div>
<h1>TABLE USERS</h1>>
<h3><a href="/admin/new">Add new User</a></h3>
<div>
  <table border="1">
    <tr>
      <th>E-Mail</th>
      <th>Имя</th>
      <th>Фамилия</th>
      <th>Пароль</th>
      <th>Роль</th>
      <th>Действие</th>
    </tr>
    <tr th:each="user : ${users}">
      <td th:text="${user.getEmail()}">E-Mail</td>
      <td th:text="${user.getFirstName()}">Имя</td>
      <td th:text="${user.getLastName()}">Фамилия</td>
      <td th:text="${user.getPassword()}">Пароль</td>
      <td>
        <div th:each="role: ${user.getRoles()}">
          <span th:if="(${role.getName()} == 'ADMIN')" th:utext="Администратор"></span>
          <span th:if="(${role.getName()} == 'USER')" th:utext="Пользователь"></span>
        </div>
      </td>
      <td>
        <a type="submit" th:href="@{/admin/edit/{id}(id=${user.getId()})}" value="UPDATE">Изменить</a>>
        <a type="submit" th:href="@{/admin/delete/{id}(id=${user.getId()})}" value="DELETE">Удалить</a>>
      </TD>>
    </tr>
  </table>>
</div>

</body>
</html>